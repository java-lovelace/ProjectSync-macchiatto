<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ProjectSync - Frontend</title>

    <!-- Tailwind Play CDN (rápido para prototipo) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Axios CDN -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <style>
        #toast{
            position:fixed; right:1rem; bottom:1rem; z-index:60;
            display:none; min-width:200px;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
<!-- Navbar -->
<nav class="bg-white shadow">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
        <div class="flex items-center space-x-4">
            <a href="#/projects" class="text-xl font-semibold">ProjectSync</a>
            <div class="hidden sm:flex space-x-2">
                <a href="#/projects" class="px-3 py-1 rounded hover:bg-gray-100">Projects</a>
                <a href="#/users" class="px-3 py-1 rounded hover:bg-gray-100">People</a>
            </div>
        </div>
        <div class="flex items-center space-x-2">
            <button id="btnNewProject" class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700">+ New Project</button>
        </div>
    </div>
</nav>

<!-- Main container -->
<main class="max-w-6xl mx-auto p-6" id="app"><!-- views render here --></main>

<!-- Toast -->
<div id="toast" class="bg-gray-800 text-white px-4 py-2 rounded shadow"></div>

<!-- Core scripts (OJO: rutas RELATIVAS) -->
<script type="module" src="./frontend/js/api.js"></script>
<script type="module" src="./frontend/js/router.js"></script>

<!-- Views (el router las importará dinámicamente) -->
<script type="module" src="./frontend/js/views/projects-list.js"></script>
<script type="module" src="./frontend/js/views/project-form.js"></script>
<script type="module" src="./frontend/js/views/project-detail.js"></script>
<script type="module" src="./frontend/js/views/users-crud.js"></script>

<script>
    // Shortcut para crear proyecto
    document.getElementById('btnNewProject').addEventListener('click', () => {
        location.hash = '#/projects/new';
    });

    // Toast simple global
    window.showToast = (msg, timeout = 3500) => {
        const t = document.getElementById('toast');
        t.textContent = msg;
        t.style.display = 'block';
        t.style.opacity = 1;
        setTimeout(() => {
            t.style.transition = 'opacity 300ms';
            t.style.opacity = 0;
            setTimeout(() => t.style.display = 'none', 300);
        }, timeout);
    };
</script>
</body>
</html>
